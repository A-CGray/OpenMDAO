build: false

version: 2.0.{build}

platform:
  - x64

environment:
  matrix:
    - PYTHON: 2.7
      CONDA: "C:\\Miniconda-x64"

    - PYTHON: 3.6
      CONDA: "C:\\Miniconda36-x64"

install:
  - echo %CONDA%
  - set PATH=%CONDA%;%CONDA%\Scripts;%PATH%
  - conda config --set always_yes yes
  # We need to do this first as other commands may not work with older versions of conda.
  - conda update conda
  - conda install python=%PYTHON% numpy=1.14.2 scipy=1.0.1 nose hdf5 h5py sphinx mock pip --quiet
  - pip install redbaron
  #Grab testflo for running tests, to ensure examples are run
  - pip install git+https://github.com/OpenMDAO/testflo.git
  - pip install matplotlib

  #Return back to continue install of OpenMDAO
  - cd C:\projects\OpenMDAO*
  - pip install -e .

test_script:
  - testflo . -n 1

